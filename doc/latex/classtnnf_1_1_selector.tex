\hypertarget{classtnnf_1_1_selector}{}\section{tnnf\+:\+:Selector Class Reference}
\label{classtnnf_1_1_selector}\index{tnnf\+::\+Selector@{tnnf\+::\+Selector}}


A class that stores sockets and check their state.  




{\ttfamily \#include $<$Selector.\+hpp$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classtnnf_1_1_selector_ad44212d90a740edcae51222804be7d3d}{Selector} (std\+::vector$<$ \hyperlink{classtnnf_1_1_socket}{Socket} $\ast$ $>$ $\ast$readable, std\+::vector$<$ \hyperlink{classtnnf_1_1_socket}{Socket} $\ast$ $>$ $\ast$writable, std\+::vector$<$ \hyperlink{classtnnf_1_1_socket}{Socket} $\ast$ $>$ $\ast$faulty) noexcept
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hyperlink{classtnnf_1_1_selector_a7e0a7480a3f855ad7d44d66526ca2469}{Selector} (const \hyperlink{classtnnf_1_1_selector}{Selector} \&other)=delete
\item 
\hyperlink{classtnnf_1_1_selector}{Selector} \& \hyperlink{classtnnf_1_1_selector_a3ebb12aa609b185a9c97839fc971e8ce}{operator=} (const \hyperlink{classtnnf_1_1_selector}{Selector} \&other)=delete
\item 
\hyperlink{classtnnf_1_1_selector_a896624fea5063418b97436b095f4dbd1}{Selector} (\hyperlink{classtnnf_1_1_selector}{Selector} \&\&other)=default
\item 
\hyperlink{classtnnf_1_1_selector}{Selector} \& \hyperlink{classtnnf_1_1_selector_aa97bc7597c45daa4873003978e31fbb3}{operator=} (\hyperlink{classtnnf_1_1_selector}{Selector} \&\&other)=default
\item 
void \hyperlink{classtnnf_1_1_selector_ab2b2bf232079c169a5f28616c54d6e97}{swap} (\hyperlink{classtnnf_1_1_selector}{Selector} \&other) noexcept
\begin{DoxyCompactList}\small\item\em Swap the references between two \hyperlink{classtnnf_1_1_selector}{Selector}. \end{DoxyCompactList}\item 
\hyperlink{classtnnf_1_1_selector_a6042ab1f47fabf155e3d553f5915cb20}{$\sim$\+Selector} ()
\begin{DoxyCompactList}\small\item\em Destructor. All sockets will be unwatched and destroyed if it is necessary. \end{DoxyCompactList}\item 
void \hyperlink{classtnnf_1_1_selector_a56fd12ff21981124269b5bd5088af35e}{update} ()
\begin{DoxyCompactList}\small\item\em Get the state of the sockets and fill the user provided arrays. If the selector failed, errno set to indicate the error. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Socket\+Type $>$ }\\void \hyperlink{classtnnf_1_1_selector_a439ee1a5d523971b0e534d33e3949fcb}{add} (Socket\+Type \&sock) noexcept
\begin{DoxyCompactList}\small\item\em Adds a socket to the \hyperlink{classtnnf_1_1_selector}{Selector}. \end{DoxyCompactList}\item 
void \hyperlink{classtnnf_1_1_selector_a72c6a0be81609137a5642651fd2e2538}{remove} (\hyperlink{classtnnf_1_1_socket}{Socket} \&sock) noexcept
\begin{DoxyCompactList}\small\item\em Removes a socket. If the socket does not have more reference, it will be destroyed. \end{DoxyCompactList}\item 
void \hyperlink{classtnnf_1_1_selector_a28f6afe65d89053cd3975210885f7650}{remove\+All} () noexcept
\begin{DoxyCompactList}\small\item\em Removes all socket from the selector. \end{DoxyCompactList}\item 
void \hyperlink{classtnnf_1_1_selector_a93a5ec8731ffc17f5f82c76471479f51}{set\+Writable} (std\+::vector$<$ \hyperlink{classtnnf_1_1_socket}{Socket} $\ast$ $>$ $\ast$array) noexcept
\begin{DoxyCompactList}\small\item\em You can specify the array where the references to writable sockets will be stored. \end{DoxyCompactList}\item 
void \hyperlink{classtnnf_1_1_selector_add3b3f0bc48901bc1630d93187e2147b}{set\+Readable} (std\+::vector$<$ \hyperlink{classtnnf_1_1_socket}{Socket} $\ast$ $>$ $\ast$array) noexcept
\begin{DoxyCompactList}\small\item\em You can specify the array where the references to readable sockets will be stored. \end{DoxyCompactList}\item 
void \hyperlink{classtnnf_1_1_selector_a9634a32b113ffe1784ac893e07b8b53d}{set\+Faulty} (std\+::vector$<$ \hyperlink{classtnnf_1_1_socket}{Socket} $\ast$ $>$ $\ast$array) noexcept
\begin{DoxyCompactList}\small\item\em You can specify the array where the references will be stored to that sockets which got exceptions. \end{DoxyCompactList}\item 
void \hyperlink{classtnnf_1_1_selector_a88ea38e344d6ba504fe36e737f95290b}{set\+Timeout} (const timeval \&timeout) noexcept
\begin{DoxyCompactList}\small\item\em Set timeout for \hyperlink{classtnnf_1_1_selector_a56fd12ff21981124269b5bd5088af35e}{update()} method. \end{DoxyCompactList}\item 
void \hyperlink{classtnnf_1_1_selector_a35ab47e18c229cb81d9947692c8eefdd}{set\+Timeout} (const int \&sec, const int \&usec) noexcept
\item 
std\+::vector$<$ \hyperlink{classtnnf_1_1_socket}{Socket} $\ast$ $>$ \hyperlink{classtnnf_1_1_selector_ad8685ca66ee6eed19bb7de4f024b57df}{get\+All} () noexcept
\begin{DoxyCompactList}\small\item\em Get all stored sockets. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
A class that stores sockets and check their state. 

You have to add your sockets (which is inherited from class \hyperlink{classtnnf_1_1_socket}{Socket}) to the selector and frequently call the \hyperlink{classtnnf_1_1_selector_a56fd12ff21981124269b5bd5088af35e}{update()} method to keep their status up to date. The \hyperlink{classtnnf_1_1_selector}{Selector} is watching which sockets has data, which can be written and which has an exception. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classtnnf_1_1_selector_ad44212d90a740edcae51222804be7d3d}{}\index{tnnf\+::\+Selector@{tnnf\+::\+Selector}!Selector@{Selector}}
\index{Selector@{Selector}!tnnf\+::\+Selector@{tnnf\+::\+Selector}}
\subsubsection[{Selector}]{\setlength{\rightskip}{0pt plus 5cm}tnnf\+::\+Selector\+::\+Selector (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ {\bf Socket} $\ast$ $>$ $\ast$}]{readable, }
\item[{std\+::vector$<$ {\bf Socket} $\ast$ $>$ $\ast$}]{writable, }
\item[{std\+::vector$<$ {\bf Socket} $\ast$ $>$ $\ast$}]{faulty}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}\label{classtnnf_1_1_selector_ad44212d90a740edcae51222804be7d3d}


Constructor. 


\begin{DoxyParams}{Parameters}
{\em readable} & Array for the pointers of the readable sockets. \\
\hline
{\em writable} & Array for the pointers of the readable sockets. \\
\hline
{\em faulty} & Array for the pointers to the sockets which got exception. \\
\hline
\end{DoxyParams}
\hypertarget{classtnnf_1_1_selector_a7e0a7480a3f855ad7d44d66526ca2469}{}\index{tnnf\+::\+Selector@{tnnf\+::\+Selector}!Selector@{Selector}}
\index{Selector@{Selector}!tnnf\+::\+Selector@{tnnf\+::\+Selector}}
\subsubsection[{Selector}]{\setlength{\rightskip}{0pt plus 5cm}tnnf\+::\+Selector\+::\+Selector (
\begin{DoxyParamCaption}
\item[{const {\bf Selector} \&}]{other}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [delete]}}\label{classtnnf_1_1_selector_a7e0a7480a3f855ad7d44d66526ca2469}
\hypertarget{classtnnf_1_1_selector_a896624fea5063418b97436b095f4dbd1}{}\index{tnnf\+::\+Selector@{tnnf\+::\+Selector}!Selector@{Selector}}
\index{Selector@{Selector}!tnnf\+::\+Selector@{tnnf\+::\+Selector}}
\subsubsection[{Selector}]{\setlength{\rightskip}{0pt plus 5cm}tnnf\+::\+Selector\+::\+Selector (
\begin{DoxyParamCaption}
\item[{{\bf Selector} \&\&}]{other}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [default]}}\label{classtnnf_1_1_selector_a896624fea5063418b97436b095f4dbd1}
\hypertarget{classtnnf_1_1_selector_a6042ab1f47fabf155e3d553f5915cb20}{}\index{tnnf\+::\+Selector@{tnnf\+::\+Selector}!````~Selector@{$\sim$\+Selector}}
\index{````~Selector@{$\sim$\+Selector}!tnnf\+::\+Selector@{tnnf\+::\+Selector}}
\subsubsection[{$\sim$\+Selector}]{\setlength{\rightskip}{0pt plus 5cm}tnnf\+::\+Selector\+::$\sim$\+Selector (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classtnnf_1_1_selector_a6042ab1f47fabf155e3d553f5915cb20}


Destructor. All sockets will be unwatched and destroyed if it is necessary. 



\subsection{Member Function Documentation}
\hypertarget{classtnnf_1_1_selector_a439ee1a5d523971b0e534d33e3949fcb}{}\index{tnnf\+::\+Selector@{tnnf\+::\+Selector}!add@{add}}
\index{add@{add}!tnnf\+::\+Selector@{tnnf\+::\+Selector}}
\subsubsection[{add}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Socket\+Type $>$ void tnnf\+::\+Selector\+::add (
\begin{DoxyParamCaption}
\item[{Socket\+Type \&}]{sock}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}\label{classtnnf_1_1_selector_a439ee1a5d523971b0e534d33e3949fcb}


Adds a socket to the \hyperlink{classtnnf_1_1_selector}{Selector}. 

You can use it without the template parameter\+: 
\begin{DoxyCode}
ClientSocket client(Address(\textcolor{stringliteral}{"127.0.0.1"}));
selector.add(client);
\end{DoxyCode}
 
\begin{DoxyParams}{Parameters}
{\em sock} & The socket which will be stored. \\
\hline
\end{DoxyParams}

\begin{DoxyTemplParams}{Template Parameters}
{\em Socket\+Type} & The type of the socket \\
\hline
\end{DoxyTemplParams}
\hypertarget{classtnnf_1_1_selector_ad8685ca66ee6eed19bb7de4f024b57df}{}\index{tnnf\+::\+Selector@{tnnf\+::\+Selector}!get\+All@{get\+All}}
\index{get\+All@{get\+All}!tnnf\+::\+Selector@{tnnf\+::\+Selector}}
\subsubsection[{get\+All}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ {\bf Socket} $\ast$ $>$ tnnf\+::\+Selector\+::get\+All (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}\label{classtnnf_1_1_selector_ad8685ca66ee6eed19bb7de4f024b57df}


Get all stored sockets. 

\begin{DoxyReturn}{Returns}
The array which contains the references to the sockets. 
\end{DoxyReturn}
\hypertarget{classtnnf_1_1_selector_a3ebb12aa609b185a9c97839fc971e8ce}{}\index{tnnf\+::\+Selector@{tnnf\+::\+Selector}!operator=@{operator=}}
\index{operator=@{operator=}!tnnf\+::\+Selector@{tnnf\+::\+Selector}}
\subsubsection[{operator=}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Selector}\& tnnf\+::\+Selector\+::operator= (
\begin{DoxyParamCaption}
\item[{const {\bf Selector} \&}]{other}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [delete]}}\label{classtnnf_1_1_selector_a3ebb12aa609b185a9c97839fc971e8ce}
\hypertarget{classtnnf_1_1_selector_aa97bc7597c45daa4873003978e31fbb3}{}\index{tnnf\+::\+Selector@{tnnf\+::\+Selector}!operator=@{operator=}}
\index{operator=@{operator=}!tnnf\+::\+Selector@{tnnf\+::\+Selector}}
\subsubsection[{operator=}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Selector}\& tnnf\+::\+Selector\+::operator= (
\begin{DoxyParamCaption}
\item[{{\bf Selector} \&\&}]{other}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [default]}}\label{classtnnf_1_1_selector_aa97bc7597c45daa4873003978e31fbb3}
\hypertarget{classtnnf_1_1_selector_a72c6a0be81609137a5642651fd2e2538}{}\index{tnnf\+::\+Selector@{tnnf\+::\+Selector}!remove@{remove}}
\index{remove@{remove}!tnnf\+::\+Selector@{tnnf\+::\+Selector}}
\subsubsection[{remove}]{\setlength{\rightskip}{0pt plus 5cm}void tnnf\+::\+Selector\+::remove (
\begin{DoxyParamCaption}
\item[{{\bf Socket} \&}]{sock}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}\label{classtnnf_1_1_selector_a72c6a0be81609137a5642651fd2e2538}


Removes a socket. If the socket does not have more reference, it will be destroyed. 


\begin{DoxyParams}{Parameters}
{\em sock} & The socket which will be removed. \\
\hline
\end{DoxyParams}
\hypertarget{classtnnf_1_1_selector_a28f6afe65d89053cd3975210885f7650}{}\index{tnnf\+::\+Selector@{tnnf\+::\+Selector}!remove\+All@{remove\+All}}
\index{remove\+All@{remove\+All}!tnnf\+::\+Selector@{tnnf\+::\+Selector}}
\subsubsection[{remove\+All}]{\setlength{\rightskip}{0pt plus 5cm}void tnnf\+::\+Selector\+::remove\+All (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}\label{classtnnf_1_1_selector_a28f6afe65d89053cd3975210885f7650}


Removes all socket from the selector. 

\hypertarget{classtnnf_1_1_selector_a9634a32b113ffe1784ac893e07b8b53d}{}\index{tnnf\+::\+Selector@{tnnf\+::\+Selector}!set\+Faulty@{set\+Faulty}}
\index{set\+Faulty@{set\+Faulty}!tnnf\+::\+Selector@{tnnf\+::\+Selector}}
\subsubsection[{set\+Faulty}]{\setlength{\rightskip}{0pt plus 5cm}void tnnf\+::\+Selector\+::set\+Faulty (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ {\bf Socket} $\ast$ $>$ $\ast$}]{array}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}\label{classtnnf_1_1_selector_a9634a32b113ffe1784ac893e07b8b53d}


You can specify the array where the references will be stored to that sockets which got exceptions. 


\begin{DoxyParams}{Parameters}
{\em array} & \\
\hline
\end{DoxyParams}
\hypertarget{classtnnf_1_1_selector_add3b3f0bc48901bc1630d93187e2147b}{}\index{tnnf\+::\+Selector@{tnnf\+::\+Selector}!set\+Readable@{set\+Readable}}
\index{set\+Readable@{set\+Readable}!tnnf\+::\+Selector@{tnnf\+::\+Selector}}
\subsubsection[{set\+Readable}]{\setlength{\rightskip}{0pt plus 5cm}void tnnf\+::\+Selector\+::set\+Readable (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ {\bf Socket} $\ast$ $>$ $\ast$}]{array}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}\label{classtnnf_1_1_selector_add3b3f0bc48901bc1630d93187e2147b}


You can specify the array where the references to readable sockets will be stored. 


\begin{DoxyParams}{Parameters}
{\em array} & \\
\hline
\end{DoxyParams}
\hypertarget{classtnnf_1_1_selector_a88ea38e344d6ba504fe36e737f95290b}{}\index{tnnf\+::\+Selector@{tnnf\+::\+Selector}!set\+Timeout@{set\+Timeout}}
\index{set\+Timeout@{set\+Timeout}!tnnf\+::\+Selector@{tnnf\+::\+Selector}}
\subsubsection[{set\+Timeout}]{\setlength{\rightskip}{0pt plus 5cm}void tnnf\+::\+Selector\+::set\+Timeout (
\begin{DoxyParamCaption}
\item[{const timeval \&}]{timeout}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}\label{classtnnf_1_1_selector_a88ea38e344d6ba504fe36e737f95290b}


Set timeout for \hyperlink{classtnnf_1_1_selector_a56fd12ff21981124269b5bd5088af35e}{update()} method. 


\begin{DoxyParams}{Parameters}
{\em timeout} & A reference to a timeval variable which will be copied. \\
\hline
\end{DoxyParams}
\hypertarget{classtnnf_1_1_selector_a35ab47e18c229cb81d9947692c8eefdd}{}\index{tnnf\+::\+Selector@{tnnf\+::\+Selector}!set\+Timeout@{set\+Timeout}}
\index{set\+Timeout@{set\+Timeout}!tnnf\+::\+Selector@{tnnf\+::\+Selector}}
\subsubsection[{set\+Timeout}]{\setlength{\rightskip}{0pt plus 5cm}void tnnf\+::\+Selector\+::set\+Timeout (
\begin{DoxyParamCaption}
\item[{const int \&}]{sec, }
\item[{const int \&}]{usec}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}\label{classtnnf_1_1_selector_a35ab47e18c229cb81d9947692c8eefdd}
\hypertarget{classtnnf_1_1_selector_a93a5ec8731ffc17f5f82c76471479f51}{}\index{tnnf\+::\+Selector@{tnnf\+::\+Selector}!set\+Writable@{set\+Writable}}
\index{set\+Writable@{set\+Writable}!tnnf\+::\+Selector@{tnnf\+::\+Selector}}
\subsubsection[{set\+Writable}]{\setlength{\rightskip}{0pt plus 5cm}void tnnf\+::\+Selector\+::set\+Writable (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ {\bf Socket} $\ast$ $>$ $\ast$}]{array}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}\label{classtnnf_1_1_selector_a93a5ec8731ffc17f5f82c76471479f51}


You can specify the array where the references to writable sockets will be stored. 


\begin{DoxyParams}{Parameters}
{\em array} & \\
\hline
\end{DoxyParams}
\hypertarget{classtnnf_1_1_selector_ab2b2bf232079c169a5f28616c54d6e97}{}\index{tnnf\+::\+Selector@{tnnf\+::\+Selector}!swap@{swap}}
\index{swap@{swap}!tnnf\+::\+Selector@{tnnf\+::\+Selector}}
\subsubsection[{swap}]{\setlength{\rightskip}{0pt plus 5cm}void tnnf\+::\+Selector\+::swap (
\begin{DoxyParamCaption}
\item[{{\bf Selector} \&}]{other}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}\label{classtnnf_1_1_selector_ab2b2bf232079c169a5f28616c54d6e97}


Swap the references between two \hyperlink{classtnnf_1_1_selector}{Selector}. 


\begin{DoxyParams}{Parameters}
{\em other} & Another \hyperlink{classtnnf_1_1_selector}{Selector} \\
\hline
\end{DoxyParams}
\hypertarget{classtnnf_1_1_selector_a56fd12ff21981124269b5bd5088af35e}{}\index{tnnf\+::\+Selector@{tnnf\+::\+Selector}!update@{update}}
\index{update@{update}!tnnf\+::\+Selector@{tnnf\+::\+Selector}}
\subsubsection[{update}]{\setlength{\rightskip}{0pt plus 5cm}void tnnf\+::\+Selector\+::update (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classtnnf_1_1_selector_a56fd12ff21981124269b5bd5088af35e}


Get the state of the sockets and fill the user provided arrays. If the selector failed, errno set to indicate the error. 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/smoke/files/prog/git\+\_\+tnnf/include/tnnf/\hyperlink{_selector_8hpp}{Selector.\+hpp}\end{DoxyCompactItemize}
